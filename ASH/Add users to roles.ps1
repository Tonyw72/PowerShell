. "\\SD-TOG\SOG\Apps\Microsoft\SQL Server\powershell\scripts\security\Add-SQLPermissions.ps1"

$serverList = @()
#$serverList += "ASH_DEV"
#$serverList += "ashb-dev"
#$serverList += "ASHBI-PRD1"
#$serverList += "ashb-sql"
#$serverList += "ASHCMS" 
#$serverList += "ASH-DWREPORTS"
#$serverList += "ASH-EDIREPORTS"
#$serverList += "ASH-SQLTrackit"
#$serverList += "ASH-STG"
#$serverList += "ASH-STG1"
#$serverList += "ash-stgsql"
#$serverList += "ASHLINKSQL"
#$serverList += "ASHSQL-REPORTS"
#$serverList += "DEV-IVR12"
#$serverList += "EDI-2008"
#$serverList += "FIT-DEVSQL"
#$serverList += "FIT-STGSQL"
#$serverList += "HRLREPORTS-2008"
#$serverList += "HYRSQL"
#$serverList += "INTRA-DEV1"
#$serverList += "IN1-CRMSQL"
#$serverList += "SD-ASHBSTG"
#$serverList += "SD-D-ACNSQL"
#$serverList += "SD-D-MICCSQL"
$serverList += "SD-D-PROVSCHSQL"
#$serverList += "SD-D-SDLSQL"
#$serverList += "SD-HYRDEV"
#$serverList += "SD-HYRSTG"
#$serverList += "SD-P-ASHBSQL"
#$serverList += "SD-P-HRLREPORTS"
#$serverList += "SD-P-PROVSCHSQL"
#$serverList += "SD-P-SEPM"
#$serverList += "SD-P-Symphony1"
#$serverList += "SD-S-ACNSQL"
#$serverList += "SD-S-ProvSchSQL"
#$serverList += "SD-T-DBA1"
#$serverList += "SD-T-DBA2"
#$serverList += "SD-T-DBA3"
#$serverList += "SQL-HRTEST08"
#$serverList += "sqlintra"
#$serverList += "SQL-REPORTS08"
#$serverList += "stg-desktop"
#$serverList += "STG-HRLREP08"
#$serverList += "STGSQL-ASHLink8"
#$serverList += "TESTASHLINKSQL"
#$serverList += "V4NET-SAN"

$userList = @()
#$userList += "activityfeed_webuser"
#$userList += "ashcore_web_user"
#$userList += "ashlink_user"
#$userList += "AZUREASHRDP\DiegoC"
#$userList += "AZUREASHRDP\JoseB"
#$userList += "CORP\AnalyticsReports - Analytics Team"
#$userList += "CORP\AbayomiA"
#$userList += "CORP\AdamS"
#$userList += "CORP\AdamSC"
#$userList += "CORP\AdrienneB"
#$userList += "CORP\AditiA"
#$userlist += "CORP\AfsheenK"
#$userList += "CORP\AkshayH"
#$userList += "CORP\AlisonK"
#$userList += "CORP\AlisonS"
#$userList += "CORP\AmandaSc"
#$userList += "CORP\AnaJ"
#$userList += "CORP\AnandV"
#$userList += "CORP\AndreaI"
#$userList += "CORP\AndrewH"
#$userList += "CORP\AndrewG"
#$userList += "CORP\AndriyM"
#$userList += "CORP\AngelineP"
#$userList += "CORP\ArchanaG"
#$userList += "CORP\ArthurL"
$userList += "CORP\AshankB"
#$userList += "CORP\AshithaD"
#$userList += "CORP\AutumnP"
#$userList += "CORP\BenjaminK"
#$userList += "CORP\BenR"
#$userList += "CORP\BI Analytics"
#$userList += "CORP\BillA"
#$userList += "CORP\BinhT"
#$userList += "CORP\BrendanM"
#$userList += "CORP\BrianBr"
#$userList += "CORP\BryanC"
#$userList += "CORP\CarloP"
#$userList += "CORP\ChandanaA"
#$userList += "CORP\CharlesF"
#$userList += "CORP\ChrisH"
#$userList += "CORP\ClaudiaM"
#$userList += "CORP\DanielC"
#$userList += "CORP\DarrenW"
#$userList += "CORP\DavidGa"
#$userList += "CORP\DeepaV"
#$userList += "CORP\DeneeC"
#$userList += "CORP\DeniseB"
#$userList += "CORP\DerrickD"
#$userList += "CORP\DonnH_con"
#$userList += "CORP\DouglasW"
#$userList += "CORP\EarlL"
#$userList += "CORP\EmekaE"
#$userList += "CORP\EricH"
#$userList += "CORP\ErinA"
#$userList += "CORP\GabeG"
#$userList += "CORP\GayathriG"
#$userList += "CORP\GlenH"
#$userList += "CORP\GregK"
#$userList += "CORP\HareeshL"
#$userList += "CORP\Healthyroads_Analytic_Admin"
#$userList += "CORP\HopeK"
#$userList += "CORP\HowardS"
#$userList += "CORP\HuG"
#$userList += "CORP\IanB"
#$userList += "CORP\IsaacC" 
#$userList += "CORP\IMDBIAnalyst"
#$userList += "CORP\JackLe"
#$userList += "CORP\JamesM"
#$userList += "CORP\JasonW"
#$userList += "CORP\JeremyW"
#$userList += "CORP\JessicaBr"
#$userList += "CORP\JessieH"
#$userList += "CORP\JulieL"
#$userList += "CORP\JustinM"
#$userList += "CORP\JustinW"
#$userList += "CORP\JustinY"
#$userList += "CORP\KatyC"
#$userList += "CORP\KarthikD"
#$userList += "CORP\KevinH"
#$userList += "CORP\KhoaN"
#$userList += "CORP\KristineB"
#$userList += "CORP\KristineT"
#$userList += "CORP\LanL"
#$userList += "CORP\LaureR"
#$userList += "CORP\LeeS"
#$userList += "CORP\LesterR"
#$userList += "CORP\LisaraeH"
#$userList += "CORP\LoreyneH"
#$userList += "CORP\ManmaiY"
#$userList += "CORP\ManasaD"
#$userList += "CORP\MarcA"
#$userList += "CORP\MarkM"
#$userList += "CORP\MattL"
#$userList += "CORP\MatthewS"
#$userList += "CORP\MercedesR"
#$userList += "CORP\MichaelA"
#$userList += "CORP\MichaelB"
#$userList += "CORP\MichaelCh"
#$userList += "CORP\MichaelLyons"
#$userList += "CORP\MichaelM"
#$userList += "CORP\Michaels"
#$userList += "CORP\MichaelY"
#$userList += "CORP\MicheleS"
#$userList += "CORP\MohamedE"
#$userList += "CORP\NavreetV"
#$userList += "CORP\NickD"
#$userList += "CORP\NithinS"
#$userList += "CORP\NoorB"
#$userList += "CORP\PamJ"
#$userList += "CORP\PerryS"
#$userList += "CORP\PramodTV"
#$userList += "CORP\PratiraZ"
#$userList += "CORP\PulkitA"
#$userList += "CORP\RamyaR"
#$userList += "CORP\RinehartE"
#$userList += "CORP\RitchieM"
#$userList += "CORP\RobertR"
#$userList += "CORP\RosalyneS"
#$userList += "CORP\RyanK"
#$userList += "CORP\Saishv"
#$userList += "CORP\SandeepG"
#$userList += "CORP\SandyE"
#$userList += "CORP\SanthoshR"
#$userList += "CORP\SaraI"
#$userList += "CORP\SayaliP"
#$userList += "CORP\ShaunM"
#$userList += "CORP\SheriF"
#$userList += "CORP\ShivangiD"
#$userList += "CORP\ShuL"
#$userList += "CORP\SiyaP"
#$userList += "CORP\SonDo"
#$userList += "CORP\SuprajaV"
#$userList += "CORP\SusanP"
#$userList += "CORP\SriG"
#$userList += "CORP\SydD"
#$userList += "CORP\tableau"
#$userList += "CORP\TashaG"
#$userList += "CORP\TFSBuild"
#$userList += "CORP\ThoL"
#$userList += "CORP\ThyL"
#$userList += "CORP\TommyD"
#$userList += "CORP\TravisM"
#$userList += "CORP\VaniM"
#$userList += "CORP\VincentS"
#$userList += "CORP\VinhN"
#$userList += "CORP\WenQ"
#$userList += "CORP\WilliamPe"
#$userList += "CORP\YufeiY"
#$userList += "CORP\ZakirS"
#$userList += "edi_speed_user"
#$userList += "ihis_web_user"
#$userList += "IMB_Reports_User"
#$userList += "Outreach"
#$userList += "PRNHA_User"
#$userList += "ProvSearch_User"
#$userList += "RinehartE"
#$userList += "Salamander_User"
#$userList += "svcsepprosoc"

$dbList = @()
#$dbList += "ActivityFeed"
#$dbList += "Archive"
#$dbList += "ASH_MSCRM"
#$dbList += "ASHCore"
#$dbList += "ASHApplicationPermissions"
#$dbList += "ASHClients"
#$dbList += "ASHLink_activity"
#$dbList += "ASHLink_activity_2016-04-30"
#$dbList += "ASHLink_Services"
#$dbList += "Benefits"
#$dbList += "Benefits_Archive"
#$dbList += "CAP_Archive"
#$dbList += "CAP_Audit"
#$dbList += "CAP_Benefits"
#$dbList += "CAP_Finance"
#$dbList += "CAP_Process"
#$dbList += "CAP_Prod"
#$dbList += "CAP_Recon"
#$dbList += "CAP_Test"
#$dbList += "CC_Process"
#$dbList += "CCMData"
#$dbList += "CCMStatisticalData"
#$dbList += "ChooseHealthy"
#$dbList += "ClearingHouse"
#$dbList += "ClearingHouse_ASH"
#$dbList += "ClearingHouse_ash_20160714"
#$dbList += "ClearingHouse_Process"
#$dbList += "CoachingActionPlan"
#$dbList += "CoachMessenger"
#$dbList += "Commlog"
#$dbList += "Corporate"
#$dbList += "CustomerService"
#$dbList += "DA_Applications"
#$dbList += "DA_Claims"
#$dbList += "DA_Development"
#$dbList += "DA_DW"
#$dbList += "DA_Evaluation"
#$dbList += "DA_Production"
#$dbList += "DA_Reports"
#$dbList += "DataVault"
#$dbList += "dbs_elighist"
#$dbList += "dbs_ihis"
#$dbList += "dbs_ihis_arch2009"
#$dbList += "dbs_ihis_arch2011"
#$dbList += "dbs_ihis_arch2014"
#$dbList += "dbs_ihis_arch2016"
#$dbList += "dbs_ihis_arch2017"
#$dbList += "DW_ASHB"
#$dbList += "DW_ASHLink"
#$dbList += "DW_Clinical"
#$dbList += "DW_Commlog"
#$dbList += "DW_Finance"
#$dbList += "DW_Fitness"
#$dbList += "DW_Provider"
#$dbList += "DW_Shared"
#$dbList += "DW_Stg"
#$dbList += "ege_process"
#$dbList += "EDI_Archive"
#$dbList += "EDI_hrl"
#$dbList += "EDI_ihis"
#$dbList += "EDI_Process"
#$dbList += "EDI_Prod"
#$dbList += "EDI_Test"
#$dbList += "ege_process"
#$dbList += "Elig"
#$dbList += "Elig_HRL_Process"
#$dbList += "elig_process"
#$dbList += "Elig_reports"
#$dbList += "elig_temp"
#$dbList += "EmailSurvey"
#$dbList += "EmpoweredDecisions"
#$dbList += "Engage"
#$dbList += "ExerciseRewards"
#$dbList += "Experience"
#$dbList += "ExternalData"
#$dbList += "Finance_rates"
#$dbList += "Fitness"
#$dbList += "Fitness_dev"
#$dbList += "Fitness_process"
#$dbList += "Fitness_stg"
#$dbList += "FitnessEngagement"
#$dbList += "FitnessReports"
#$dbList += "FTP_Process"
#$dbList += "HealthTrackers"
#$dbList += "Healthyroads"
#$dbList += "HEALTHYSTORE"
#$dbList += "HP_benefits"
#$dbList += "HP_Process"
#$dbList += "HRAQUIZ"
#$dbList += "HRAQuiz20170828"
#$dbList += "HRL_Process"
#$dbList += "HRLDW"
#$dbList += "HRMS"
#$dbList += "IBM_elig"
#$dbList += "IMB_Reports"
#$dbList += "IMB_Archive"
#$dbList += "IMBProd"
#$dbList += "IMB_Reports"
#$dbList += "IMD_Reports"
#$dbList += "IMD_Reports_AdHoc"
#$dbList += "IMD_Reports_Temp"
#$dbList += "IMDProviderArchive"
#$dbList += "IMDProviderReports"
#$dbList += "Incentive"
#$dbList += "Inspiration"
#$dbList += "Intranet"
#$dblist += "Master"
#$dbList += "MClassEcr"
#$dbList += "MICC"
#$dbList += "Morpheus"
#$dbList += "msdb"
#$dbList += "NewASHB"
#$dbList += "NewASHB_Archive"
#$dbList += "NewASHBUnitTesting"
#$dbList += "News"
#$dbList += "PCT 08-12-2011"
#$dbList += "PGRNTS"
#$dbList += "PGRNTS_DEV"
#$dbList += "Promis"
$dbList += "ProviderSearch"
#$dbList += "ProviderSearchTest"
#$dbList += "PSCCMDATA" 
#$dbList += "PSTDS"
#$dbList += "PSTDS_dev"
#$dbList += "RealTimeEDI"
#$dbList += "RealTimeEDI_dev"
#$dbList += "RealTimeEDI_stg"
#$dbList += "ResourceLibrary"
#$dbList += "ReportServer"
#$dbList += "sem5"
#$dbList += "sem6"
#$dbList += "SilverandFit"
#$dbList += "SilverSteps"
#$dbList += "Test"
#$dbList += "TRACKIT_IMBDATA"
#$dbList += "Ticketing"
#$dbList += "Tridion11_cm"
#$dbList += "Toga"
#$dbList += "Tools"
#$dbList += "UserManagement"
#$dbList += "Z_archive"
#$dbList += "V4_Custom"
#$dbList += "V4_SPPS_V6"


$roleList = @()
$roleList += "db_datareader"
#$roleList += "db_datawriter"
#$roleList += "db_denydatawriter"
#$roleList += "db_ddladmin"
#$roleList += "db_accessadmin"
#$roleList += "db_securityadmin"
#$roleList += "db_owner"
#$roleList += "DatabaseMailUserRole"
#$roleList += "SQLAgentReaderRole"
#$roleList += 'ASHCore_Tester'
#$roleList += 'ASHCore_Tester2'
#$roleList += 'Clinical_User'
#$roleList += 'Fitness_User'
#$roleList += 'ASHCore_User'
#$roleList += "ASH Application" # includes db_datareader, db_datawriter, ViewDefinition, ShowPlan and Execute
#$roleList += "ASH Developer" # includes db_ddladmin, db_datareader, db_datawriter, ViewDefinition, ShowPlan and Execute
#$roleList += "ASH Data Architect" # includes db_datareader, ViewDefinition, and ShowPlan 
#$roleList += "ECR_Administrator"
#$roleList += "ECR_Inquiry"	
#$roleList += "ECR_Nurse"	
#$roleList += "ECR_Supervisor"
#$roleList += "ECR_Tester"
#$roleList += "ECR_User"
#$roleList += "TriageTeam"
#$roleList += "CaseReviewCommittee"
#$roleList += "CaseReviewInquiry"
#$roleList += "Query_User"


#$dbList = @("Benefits") #, "ChooseHealthy", "ExerciseRewards", "Fitness", "FitnessEngagement", "ProviderSearch", "SilverandFit", "SilverSteps") #, "", "StealthAudit")
#$dbList = @("Benefits")
#$roleList = @("db_datareader") #, "db_datawriter") #db_datareader, db_datawriter, db_owner

cls
Add-sqlPermissions `
    -servernames $serverList `
    -Databases $dbList  `
    -usernames $userList  `
    -AddRoles $roleList  `
    -NoScript $true -Verbose -WhatIf  

<#
    cls
    Add-sqlPermissions -servernames 'SD-HYRSTG' -Databases 'EDI_HRL' -usernames 'CORP\BrendanM' -AddRoles 'db_datareader' -Verbose -NoScript $true -whatif
    Add-sqlPermissions -servernames 'SD-HYRDEV' -Databases 'EDI_HRL' -usernames 'CORP\BrendanM' -AddRoles 'ASH Developer' -Verbose -NoScript $true -whatif
#>
